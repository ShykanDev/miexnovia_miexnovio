import{r as a,G as U,c as r,f as b,w as y,o as l,B as n,I as V,a as s,g as E,E as I,D as u,J as i,h as m,i as L}from"./index-BBPiZaKS.js";import{u as N,_ as R}from"./MainLayout.vue_vue_type_script_setup_true_lang-B7xbGCne.js";import{g as j,c as B}from"./index-a7d5cfcc-D1423XQ2.js";const S={class:"flex items-center justify-center w-full bg-gray-50"},A={class:"fixed top-0 bottom-0 left-0 right-0 flex flex-col items-center justify-center text-white bg-black bg-opacity-85"},T={class:"flex flex-col items-center justify-center w-3/4 gap-2 p-1 text-center text-black bg-white rounded-lg font-poppins"},_={class:"flex flex-col items-center justify-start min-h-screen p-6 pt-20 space-y-6 rounded-lg shadow-md bg-slate-50 md:pt-20 w-dvw lg:pt-9"},D={key:0,class:"mt-1 text-xs text-red-500"},M={key:0,class:"mt-1 text-xs text-red-500"},$={key:0,class:"mt-1 text-xs text-red-500"},z={key:0,class:"mt-1 text-xs text-red-500"},G={key:0,class:"mt-1 text-xs text-red-500"},H={__name:"RegisterView",setup(J){const w=j(),c=a(""),f=a(""),p=a(""),d=a(""),g=a(""),x=a(!1),t=a({name:!1,age:!1,email:!1,password:!1,confirmPassword:!1});U();const k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,h=N(),C=async()=>{if(t.value={name:!1,age:!1,email:!1,password:!1,confirmPassword:!1},t.value.name=c.value.trim()==="",t.value.age=f.value<18||f.value==="",t.value.email=!k.test(p.value),t.value.password=d.value.length<8,t.value.confirmPassword=d.value!==g.value,!t.value.name&&!t.value.age&&!t.value.email&&!t.value.password&&!t.value.confirmPassword)try{const e=(await B(w,p.value,d.value)).user;e&&(h.setUserName(c.value),console.log("Usuario registrado:",e),x.value=!0)}catch(v){console.error("Error al registrar el usuario:",v)}};return(v,e)=>{const P=L("RouterLink");return l(),r("div",S,[b(R,null,{main:y(()=>[n(s("article",A,[s("div",T,[e[6]||(e[6]=s("p",null," Tu cuenta ha sido registrada!",-1)),e[7]||(e[7]=s("p",null,"Ahora puedes ir al login, para iniciar sesión",-1)),b(P,{to:{name:"login"},class:"px-4 py-2 mt-3 font-medium text-white rounded-md bg-sky-700 hover:bg-sky-800"},{default:y(()=>e[5]||(e[5]=[E("Ir al Login")])),_:1})])],512),[[V,x.value]]),s("div",_,[e[14]||(e[14]=s("h2",{class:"text-4xl font-bold text-center text-sky-800"}," Registrarse ",-1)),s("form",{onSubmit:I(C,["prevent"]),class:"w-full p-3 space-y-4 bg-white rounded-2xl md:py-6"},[s("div",null,[e[8]||(e[8]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700"}," Nombre ",-1)),n(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o),type:"text",id:"name",placeholder:"Escribe tu nombre",class:i(["block w-full px-4 py-2 mt-1 text-gray-900 border rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500",{"border-red-500":t.value.name}])},null,2),[[u,c.value]]),t.value.name?(l(),r("p",D,"Por favor, ingresa un nombre válido.")):m("",!0)]),s("div",null,[e[9]||(e[9]=s("label",{for:"age",class:"block text-sm font-medium text-gray-700"}," Edad ",-1)),n(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>f.value=o),type:"number",id:"age",placeholder:"Escribe tu edad",class:i(["block w-full px-4 py-2 mt-1 text-gray-900 border rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500",{"border-red-500":t.value.age}])},null,2),[[u,f.value]]),t.value.age?(l(),r("p",M,"Ingresa una edad válida (18+).")):m("",!0)]),s("div",null,[e[10]||(e[10]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Correo Electrónico ",-1)),n(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),type:"email",id:"email",placeholder:"tucorreo@ejemplo.com",class:i(["block w-full px-4 py-2 mt-1 text-gray-900 border rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500",{"border-red-500":t.value.email}])},null,2),[[u,p.value]]),t.value.email?(l(),r("p",$,"Ingresa un correo electrónico válido.")):m("",!0)]),s("div",null,[e[11]||(e[11]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"}," Contraseña ",-1)),n(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>d.value=o),type:"password",id:"password",placeholder:"********",class:i(["block w-full px-4 py-2 mt-1 text-gray-900 border rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500",{"border-red-500":t.value.password}])},null,2),[[u,d.value]]),t.value.password?(l(),r("p",z,"La contraseña debe tener al menos 8 caracteres.")):m("",!0)]),s("div",null,[e[12]||(e[12]=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700"}," Confirmar Contraseña ",-1)),n(s("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>g.value=o),type:"password",id:"confirmPassword",placeholder:"********",class:i(["block w-full px-4 py-2 mt-1 text-gray-900 border rounded-lg shadow-sm focus:ring-sky-500 focus:border-sky-500",{"border-red-500":t.value.confirmPassword}])},null,2),[[u,g.value]]),t.value.confirmPassword?(l(),r("p",G,"Las contraseñas no coinciden.")):m("",!0)]),e[13]||(e[13]=s("div",null,[s("button",{type:"submit",class:"w-full px-4 py-2 font-semibold text-white transition duration-300 rounded-lg bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50"}," Registrarse ")],-1))],32)])]),_:1})])}}};export{H as default};
